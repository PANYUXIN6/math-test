# PRD: 小学口算练习应用

## 1. 产品概述
### 1.1 文档标题和版本
   - PRD: 小学口算练习应用
   - 版本: 1.0
   
### 1.2 产品摘要
   本产品是一款专为小学生设计的移动端 H5 应用，旨在提供一个简单有趣的口算练习平台。用户可以自主选择填空题或选择题模式，进行包含10道题的口算练习。
   
   题目范围涵盖加减乘除，确保所有数字不超过两位数（即0-100），且答案始终为非负整数。完成所有题目后，用户可以提交作答进行批改，系统将即时反馈结果，并显示正确答案。批改后，用户的答案将被锁定，不能修改。用户可以通过"再来一次"功能，重新开始新一轮的练习。

## 2. 目标
### 2.1 业务目标
   - 提供一个简洁易用的工具，帮助儿童练习和提高口算能力。
   - 通过友好的用户界面和即时反馈，鼓励用户重复练习。
   - 提升用户对基础数学运算的熟练度和兴趣。
### 2.2 用户目标
   - 练习并提高心算技能。
   - 获得关于练习表现的即时反馈。
   - 能够轻松开始新的练习。
   - 在一个无干扰的环境中专注于数学练习。
### 2.3 非目标
   - 本版本不包含用户账户系统或跨会话的进度跟踪。
   - 不支持除基础四则运算以外的高级数学运算。
   - 不包含排行榜或竞争性功能。
   - 除 SvelteKit PWA 可能默认提供的功能外，不特意开发复杂的离线功能。

## 3. 用户画像
### 3.1 关键用户类型
   - 小学生
   - 家长/老师 (作为辅助或观察角色)
### 3.2 基本用户画像详情
   - **小学生**: 正在学习基础数学运算，希望通过互动方式练习口算技能的儿童。
   - **家长/老师**: 监督学生的练习过程，或帮助学生设置并开始使用本应用。
### 3.3 基于角色的访问权限
      - **用户**: 本应用主要面向单一用户角色，该角色可以使用所有功能，包括启动应用、选择题目类型、回答问题、提交批改以及重新开始练习。无需用户认证或登录。

## 4. 功能需求
   - **应用初始化**: (优先级: 高)
     - 应用启动后显示一个包含"开始"按钮的初始界面。
   - **题目类型选择**: (优先级: 高)
     - 用户点击"开始"按钮后，系统应提示用户选择"填空题"或"选择题"模式。
   - **题目生成**: (优先级: 高)
     - 系统为每个练习环节生成10道小学级别口算题。
     - 题目类型应包含加法、减法、乘法和除法。
     - 题目中的所有运算数必须是两位数或一位数（0-100范围内）。
     - 所有题目的正确答案必须是大于等于0的整数。
     - 对于除法运算，确保结果为整数（即被除数能被除数整除）。
   - **填空题作答界面**: (优先级: 高)
     - 清晰展示当前的题目。
     - 提供一个输入框供用户输入答案。
     - 允许用户在10道题之间导航（例如，顺序展示题目，一次一道）。
   - **选择题作答界面**: (优先级: 高)
     - 清晰展示当前的题目。
     - 为每道选择题提供4个选项。
     - 4个选项中必须有且仅有一个正确答案。
     - 其他3个选项应为合理的干扰项。
     - 用户可以选择其中一个选项作为答案。
   - **题目作答**: (优先级: 高)
     - 用户能够为所有10道题目输入或选择答案。
   - **提交与判题**: (优先级: 高)
     - 在用户完成（或至少浏览完）10道题目后，提供一个"判题"按钮。
     - 用户点击"判题"按钮后，系统收集用户的所有答案并进行批改。
   - **结果展示**: (优先级: 高)
     - 清晰展示每道题的作答情况（正确或错误）。
     - 对于回答错误的题目，显示正确答案。
     - 可以选择性地展示总得分（例如，答对 X 题 / 共 10 题）。
   - **答案锁定**: (优先级: 高)
     - 判题完成后，用户不能再修改已提交的答案。界面应禁用相关的输入控件。
   - **"再来一次"功能**: (优先级: 高)
     - 提供一个"再来一次"按钮，允许用户清空当前结果并开始一套全新的10道题目。

## 5. 用户体验
### 5.1. 入口点与首次用户流程
   - 用户通过浏览器打开本应用的H5链接。
   - 应用加载完成，显示带有"开始"按钮的欢迎界面。
   - 用户点击"开始"按钮。
   - 应用提示用户选择"填空题"或"选择题"模式。
   - 用户选择模式后，第一道题目展示出来。
### 5.2. 核心体验
   - **开始练习**: 用户通过点击主界面的"开始"按钮发起一个新的练习会话。
     - "开始"按钮应醒目且易于点击。
   - **选择题目类型**: 用户根据个人偏好选择填空题或选择题。
     - 选择过程应清晰、简单。
   - **回答问题**: 用户依次回答10道题目。
     - 界面应保持简洁，题目文字清晰易读，答案输入（填空）或选择（选择题）应直接方便。
   - **提交判题**: 用户在答完（或浏览完）所有题目后，点击"判题"按钮查看结果。
     - "判题"按钮在适当的时候（例如题目列表末尾）清晰可见。
   - **查看结果**: 用户查看自己的作答情况。
     - 正确与错误的答案应有明确的视觉区分，同时为错题提供正确答案。
   - **重新开始**: 用户在查看结果后，可以通过点击"再来一次"按钮开始新一轮练习。
     - "再来一次"按钮在结果页面应易于找到。
### 5.3. 高级功能与边缘情况
   - 本版本不包含特定的高级功能。
   - 边缘情况：
     - 用户在未答完所有题目时尝试提交（建议允许在浏览完所有题目后提交，或在最后一题后自动显示提交按钮）。
     - 填空题的无效输入（例如，输入非数字字符）。应进行基本的前端校验提示。
     - 确保生成的除法题目答案为整数。
     - 确保生成的减法题目 (a - b) 中 a >= b，以保证答案非负。
### 5.4. UI/UX 亮点
   - 界面设计简洁、干净、直观，适合儿童用户。
   - 对用户的操作（如选择答案）提供清晰的视觉反馈。
   - 采用活泼但不过于分散注意力的视觉风格。
   - 确保在主流移动设备上的响应式设计和良好显示效果。

## 6. 用户故事叙述
小明是一名小学生，他想提高自己的口算能力，因为数学对他来说有点挑战。他发现了这个口算练习应用，它用起来很简单，可以让他选择喜欢的题型，做完10道题后马上就能知道哪些做对了，哪些做错了，还能看到正确答案。这让他觉得练习口算不再枯燥，而且通过"再来一次"功能，他可以不断挑战自己，越做越有信心。

## 7. 成功指标
### 7.1. 用户中心指标
   - 每次访问（或每个用户，如果未来可追踪）启动的练习次数。
   - 平均每次练习完成的题目数量（目标为10道）。
   - 练习完成率（即完成判题的会话百分比）。
   - "再来一次"功能的使用频率。
### 7.2. 业务指标
   - （若适用）用户留存率（如果未来实现用户追踪）。
   - （若适用）积极的用户反馈/评价（如果设置反馈渠道）。
### 7.3. 技术指标
   - 页面加载时间。
   - 题目生成或判题过程中的错误率。
   - 应用在目标移动设备上的响应速度和流畅度。

## 8. 技术考量
### 8.1. 集成点
   - 本应用为独立的 H5 应用，初期无外部系统集成需求。
### 8.2. 数据存储与隐私
   - 不会在会话结束后持久化存储任何用户数据。所有练习数据均为会话级别，不涉及个人身份信息 (PII) 的收集。
### 8.3. 可扩展性与性能
   - 应用应在常见的移动端浏览器上表现良好。
   - 题目生成逻辑应高效，避免用户等待。
   - SvelteKit 的客户端渲染能力应能很好地支持本应用的性能需求。
### 8.4. 潜在挑战
   - 设计健壮且符合教学要求的题目生成算法，特别是确保除法结果为整数、运算数在0-100之间、答案非负等约束。
   - 为儿童用户创建既吸引人又直观易懂的用户界面。
   - 平衡生成题目的难度，使其适合小学阶段的口算练习。

## 9. 里程碑与计划
### 9.1. 项目估算
   - 小型: 1-2 周 (由一名开发者专注于核心功能开发)。
### 9.2. 团队规模与构成
   - 小型团队: 1 名开发工程师 (可独立完成 SvelteKit 应用开发)。
     - (可选) 1 名 UI/UX 设计师（如果需要更精细的早期视觉稿）。
### 9.3. 建议阶段
   - **阶段一**: 核心逻辑与UI搭建 (约1周)
     - 关键交付物: 开始界面、题目类型选择功能、两种题目类型（填空、选择）的生成逻辑、题目显示与作答（输入/选择）界面、判题逻辑、结果展示界面、"再来一次"功能。
   - **阶段二**: UI优化与测试 (约1周)
     - 关键交付物: 优化的用户界面与用户体验、响应式设计适配与测试、题目生成逻辑与边缘情况的全面测试、缺陷修复。

## 10. 用户故事
### 10.1. 开始练习会话
   - **ID**: US-001
   - **描述**: 作为一个用户，我想要能够启动一个新的口算练习会话，以便开始做题。
   - **验收标准**:
     - 应用加载后，首页显示一个清晰的"开始"按钮。
     - 点击"开始"按钮后，进入题目类型选择步骤或直接开始练习（如果类型预设或后续步骤处理）。
### 10.2. 选择填空题模式
   - **ID**: US-002
   - **描述**: 作为一个用户，在开始练习时，我希望能选择填空题模式，因为我喜欢直接输入答案。
   - **验收标准**:
     - 系统提供"填空题"选项。
     - 选择"填空题"后，后续生成的题目均为填空形式。
### 10.3. 选择选择题模式
   - **ID**: US-003
   - **描述**: 作为一个用户，在开始练习时，我希望能选择选择题模式，因为我觉得从选项中选择答案更容易。
   - **验收标准**:
     - 系统提供"选择题"选项。
     - 选择"选择题"后，后续生成的题目均为选择题形式（每题4个选项，1个正确答案）。
### 10.4. 查看填空题
   - **ID**: US-004
   - **描述**: 作为一个用户，在填空题模式下，我想要清晰地看到当前的题目，以便我知道需要计算什么。
   - **验收标准**:
     - 题目（例如 "15 + 23 ="）清晰展示。
     - 题目旁边或下方有一个明显的输入框供填写答案。
### 10.5. 回答填空题
   - **ID**: US-005
   - **描述**: 作为一个用户，在填空题模式下，我想要能够输入我的答案，以便完成题目。
   - **验收标准**:
     - 用户可以在指定的输入框中输入数字。
     - （可选）输入框只接受数字输入。
### 10.6. 查看选择题
   - **ID**: US-006
   - **描述**: 作为一个用户，在选择题模式下，我想要清晰地看到当前的题目和所有选项，以便我进行选择。
   - **验收标准**:
     - 题目清晰展示。
     - 题目的下方或旁边展示4个可供选择的答案选项。
     - 每个选项都清晰可辨。
### 10.7. 回答选择题
   - **ID**: US-007
   - **描述**: 作为一个用户，在选择题模式下，我想要能够选择一个我认为正确的答案。
   - **验收标准**:
     - 用户可以点击选择四个选项中的一个。
     - 一次只能选择一个选项。
     - 选择后，选项有视觉反馈表明已被选中。
### 10.8. 导航或顺序完成题目
   - **ID**: US-008
   - **描述**: 作为一个用户，我希望能依次完成所有10道题目。
   - **验收标准**:
     - 系统按顺序展示10道题目。
     - 用户每答完一题（或通过"下一题"按钮），可以进到下一题，直到10题全部展示完毕。
### 10.9. 提交答案进行判题
   - **ID**: US-009
   - **描述**: 作为一个用户，在我完成所有10道题目后，我想要提交我的答案进行判题，以便了解我的表现。
   - **验收标准**:
     - 在完成（或至少浏览完）10道题目后，出现一个"判题"或"提交"按钮。
     - 点击该按钮后，系统收集所有答案并进行处理。
### 10.10. 查看判题结果
   - **ID**: US-010
   - **描述**: 作为一个用户，在提交答案后，我想要看到判题结果，包括哪些题目答对了，哪些答错了，以及错题的正确答案。
   - **验收标准**:
     - 结果页面清晰展示每道题目的用户答案、正确答案以及是否正确。
     - （可选）显示总得分，例如 "8/10"。
     - 对于错误的题目，明确指出用户的错误答案和正确的答案。
### 10.11. 判题后答案锁定
   - **ID**: US-011
   - **描述**: 作为一个用户，在查看判题结果后，我不应该能修改之前的答案，以确保结果的公正性。
   - **验收标准**:
     - 判题完成后，所有答题区域（输入框、选项）变为不可编辑状态。
     - 用户无法更改已提交并被批改的答案。
### 10.12. 重新开始一轮新练习
   - **ID**: US-012
   - **描述**: 作为一个用户，在完成一轮练习并查看结果后，我希望能方便地开始新的一轮练习，以便继续提高。
   - **验收标准**:
     - 在结果页面或一个易于访问的位置，提供一个"再来一次"按钮。
     - 点击"再来一次"按钮后，应用重置，生成一套全新的10道题目，用户可以重新选择题目类型并开始答题。
### 10.13. 系统生成有效的口算题目
   - **ID**: US-013
   - **描述**: 作为题目生成系统，我需要能够生成10道符合小学标准且满足特定约束的口算题。
   - **验收标准**:
     - 每次练习会话生成10道不同的题目。
     - 题目类型包含加、减、乘、除。
     - 题目中的所有操作数（数字）都在0到100之间（含0和100）。
     - 所有题目的正确答案都是非负整数（大于等于0）。
     - 对于减法题目 (例如 a - b)，确保 a >= b。
     - 对于除法题目 (例如 a / b)，确保 a 能被 b 整除，且 b 不为0。
### 10.14. 系统为选择题生成有效的选项
   - **ID**: US-014
   - **描述**: 作为题目生成系统，当生成选择题时，我需要为每道题提供4个选项，其中一个是正确答案，其余为合理的干扰项。
   - **验收标准**:
     - 每道选择题都有4个不重复的选项。
     - 4个选项中，有且仅有1个是该题的正确答案。
     - 3个干扰选项应是数字上与正确答案相近，或者是常见的计算错误结果，但不能与正确答案相同。
     - 所有提供的选项都应为非负整数。 