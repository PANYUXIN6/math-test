import{f as p,a as c,t as Qs}from"../chunks/Cp7w3v0t.js";import{i as Ss}from"../chunks/CdTvtSlu.js";import{o as qs}from"../chunks/wu8WGWAQ.js";import{l as ys,m as zs,$ as As,v as g,w as x,x as t,o as e,u as s,q as a,t as h,y as k,z as X}from"../chunks/4Lpfm1mz.js";import{s as u}from"../chunks/BnJy6Fgy.js";import{i as B}from"../chunks/GIOW0cxA.js";import{g as js,e as ks,i as Bs,s as Y}from"../chunks/CStnOnNv.js";import{h as Es}from"../chunks/CP3jBiu0.js";import{q as E,s as Z,B as Ms,g as Ps,a as ss}from"../chunks/DK7-xWkq.js";import{g as es}from"../chunks/BPcg4oEo.js";var Ws=p('<span class="correct-icon svelte-15esl3u">✓</span> <span class="result-text correct svelte-15esl3u">正确</span>',1),Ds=p('<span class="incorrect-icon svelte-15esl3u">✗</span> <span class="result-text incorrect svelte-15esl3u">错误</span>',1),Fs=p('<div class="answer-row svelte-15esl3u"><span class="answer-label svelte-15esl3u">正确答案：</span> <span class="correct-answer svelte-15esl3u"> </span></div>'),Gs=p('<div><div class="question-header svelte-15esl3u"><span class="question-number svelte-15esl3u"></span> <span class="question-result svelte-15esl3u"><!></span></div> <div class="question-content svelte-15esl3u"><div class="question-text svelte-15esl3u"> </div> <div class="answers svelte-15esl3u"><div class="answer-row svelte-15esl3u"><span class="answer-label svelte-15esl3u">你的答案：</span> <span> </span></div> <!></div></div></div>'),Hs=p('<div class="results-card svelte-15esl3u"><div class="score-section svelte-15esl3u"><div class="score-circle svelte-15esl3u"><div class="score-emoji svelte-15esl3u"> </div> <div class="score-number svelte-15esl3u"> </div> <div class="score-label svelte-15esl3u">分</div></div> <div class="score-details svelte-15esl3u"><h2 class="score-title svelte-15esl3u">恭喜完成！</h2> <p class="score-stats svelte-15esl3u">答对了 <strong class="svelte-15esl3u"> </strong> 题，共 <strong class="svelte-15esl3u"> </strong> 题</p> <p class="encouragement svelte-15esl3u"> </p></div></div> <div class="questions-review svelte-15esl3u"><h3 class="review-title svelte-15esl3u">题目回顾</h3> <div class="questions-list svelte-15esl3u"></div></div> <div class="action-section svelte-15esl3u"><!></div></div>'),Is=p('<div class="loading-card svelte-15esl3u"><div class="loading-spinner svelte-15esl3u"></div> <p class="svelte-15esl3u">正在判题中...</p></div>'),Js=p('<div class="results-container svelte-15esl3u"><!></div>');function Zs(ts,rs){ys(rs,!1);let M=x([]),d=x(0),P=x(0),W=x(0),D=x(!1);qs(()=>{const r=E.subscribe(n=>{if(n.length>0){const i=js(n);g(M,i.questions),g(d,i.score),g(P,i.correctCount),g(W,i.totalQuestions),E.set(i.questions),Z.set(t(d)),g(D,!0)}else es("/")});return()=>{r()}});function as(){Ps.set("initial"),E.set([]),Z.set(0),es("/")}function F(r){return r>=90?"#28a745":r>=70?"#ffc107":"#dc3545"}function ls(r){return r>=90?"🎉":r>=70?"😊":"💪"}function vs(r){return r>=90?"太棒了！你的口算能力很强！":r>=70?"不错！继续努力会更好的！":"加油！多练习就能提高哦！"}Ss();var b=Js();Es(r=>{As.title="判题结果 - 小学口算练习"});var is=e(b);{var os=r=>{var n=Hs(),i=e(n),w=e(i),C=e(w),cs=e(C,!0);s(C);var $=a(C,2),us=e($,!0);s($),h(2),s(w);var G=a(w,2),Q=a(e(G),2),S=a(e(Q)),ds=e(S,!0);s(S);var H=a(S,2),ps=e(H,!0);s(H),h(),s(Q);var I=a(Q,2),_s=e(I,!0);s(I),s(G),s(i);var q=a(i,2),J=a(e(q),2);ks(J,5,()=>t(M),Bs,(f,l,m)=>{var _=Gs();let L;var y=e(_),N=e(y);N.textContent=`第 ${m+1} 题`;var O=a(N,2),ms=e(O);{var gs=v=>{var o=Ws();h(2),c(v,o)},xs=v=>{var o=Ds();h(2),c(v,o)};B(ms,v=>{t(l).isCorrect?v(gs):v(xs,!1)})}s(O),s(y);var R=a(y,2),z=e(R),hs=e(z);s(z);var T=a(z,2),A=e(T),j=a(e(A),2);let U;var ws=e(j,!0);s(j),s(A);var bs=a(A,2);{var Cs=v=>{var o=Fs(),V=a(e(o),2),$s=e(V,!0);s(V),s(o),k(()=>u($s,t(l).correctAnswer)),c(v,o)};B(bs,v=>{t(l).isCorrect||v(Cs)})}s(T),s(R),s(_),k((v,o)=>{L=ss(_,1,"question-item svelte-15esl3u",null,L,v),u(hs,`${t(l).text??""} = ?`),U=ss(j,1,"user-answer svelte-15esl3u",null,U,o),u(ws,t(l).userAnswer!==null?t(l).userAnswer:"未答")},[()=>({correct:t(l).isCorrect,incorrect:!t(l).isCorrect}),()=>({correct:t(l).isCorrect,incorrect:!t(l).isCorrect})],X),c(f,_)}),s(J),s(q);var K=a(q,2),fs=e(K);Ms(fs,{type:"primary",size:"large",fullWidth:!0,onClick:as,children:(f,l)=>{h();var m=Qs("再来一次");c(f,m)},$$slots:{default:!0}}),s(K),s(n),k((f,l,m,_)=>{Y(w,`border-color: ${f??""}`),u(cs,l),Y($,`color: ${m??""}`),u(us,t(d)),u(ds,t(P)),u(ps,t(W)),u(_s,_)},[()=>F(t(d)),()=>ls(t(d)),()=>F(t(d)),()=>vs(t(d))],X),c(r,n)},ns=r=>{var n=Is();c(r,n)};B(is,r=>{t(D)?r(os):r(ns,!1)})}s(b),c(ts,b),zs()}export{Zs as component};
